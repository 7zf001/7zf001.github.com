<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT, JavaScript, React, Vue, 7zf001" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="像天上的流云，江河中的流水。">
<meta property="og:type" content="website">
<meta property="og:title" content="Jeff Tam">
<meta property="og:url" content="https://7zf001.github.io/index.html">
<meta property="og:site_name" content="Jeff Tam">
<meta property="og:description" content="像天上的流云，江河中的流水。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jeff Tam">
<meta name="twitter:description" content="像天上的流云，江河中的流水。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://7zf001.github.io/"/>





  <title>Jeff Tam</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jeff Tam</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/12/17/Thinking_in_React/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/17/Thinking_in_React/" itemprop="url">Thinking in React</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-17T12:00:00+08:00">
                2017-12-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/17/Thinking_in_React/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/17/Thinking_in_React/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Thinking-in-React"><a href="#Thinking-in-React" class="headerlink" title="Thinking in React"></a>Thinking in React</h1><p>React is, in our opinion, the premier way to build big, fast Web apps with JavaScript. It has scaled very well for us at Facebook and Instagram.</p>
<p>One of the many great parts of React is how it makes you think about apps as you build them. In this document, we’ll walk you through the thought process of building a searchable product data table using React.</p>
<h1 id="Start-With-A-Mock"><a href="#Start-With-A-Mock" class="headerlink" title="Start With A Mock"></a>Start With A Mock</h1><p>Imagine that we already have a JSON API and a mock from our designer. The mock looks like this:</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/58df19d0c7d4150e66d71df07385f7d0d1a211e4/e3b08/static/thinking-in-react-mock-1071fbcc9eed01fddc115b41e193ec11-4dd91.png" alt="img1"></p>
<p>Our JSON API returns some data that looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;category: &quot;Sporting Goods&quot;, price: &quot;$49.99&quot;, stocked: true, name: &quot;Football&quot;&#125;,</span><br><span class="line">  &#123;category: &quot;Sporting Goods&quot;, price: &quot;$9.99&quot;, stocked: true, name: &quot;Baseball&quot;&#125;,</span><br><span class="line">  &#123;category: &quot;Sporting Goods&quot;, price: &quot;$29.99&quot;, stocked: false, name: &quot;Basketball&quot;&#125;,</span><br><span class="line">  &#123;category: &quot;Electronics&quot;, price: &quot;$99.99&quot;, stocked: true, name: &quot;iPod Touch&quot;&#125;,</span><br><span class="line">  &#123;category: &quot;Electronics&quot;, price: &quot;$399.99&quot;, stocked: false, name: &quot;iPhone 5&quot;&#125;,</span><br><span class="line">  &#123;category: &quot;Electronics&quot;, price: &quot;$199.99&quot;, stocked: true, name: &quot;Nexus 7&quot;&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h1 id="Step-1-Break-The-UI-Into-A-Component-Hierarchy"><a href="#Step-1-Break-The-UI-Into-A-Component-Hierarchy" class="headerlink" title="Step 1: Break The UI Into A Component Hierarchy"></a>Step 1: Break The UI Into A Component Hierarchy</h1><p>The first thing you’ll want to do is to draw boxes around every component (and subcomponent) in the mock and give them all names. If you’re working with a designer, they may have already done this, so go talk to them! Their Photoshop layer names may end up being the names of your React components!</p>
<p>But how do you know what should be its own component? Just use the same techniques for deciding if you should create a new function or object. One such technique is the <strong>single responsibility principle</strong>, that is, a component should ideally only do one thing. If it ends up growing, it should be decomposed into smaller subcomponents.</p>
<p>Since you’re often displaying a JSON data model to a user, you’ll find that if your model was built correctly, your UI (and therefore your component structure) will map nicely. That’s because UI and data models tend to adhere to the same information architecture, which means the work of separating your UI into components is often trivial. Just break it up into components that represent exactly one piece of your data model.</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/a09dd2f97c5a4f68d90b7151f18d41353549f2ac/440d5/static/thinking-in-react-components-eb8bda25806a89ebdc838813bdfa3601-82965.png" alt=""></p>
<p>You’ll see here that we have five components in our simple app. We’ve italicized the data each component represents.</p>
<ol>
<li>FilterableProductTable (orange): contains the entirety of the example</li>
<li>SearchBar (blue): receives all user input</li>
<li>ProductTable (green): displays and filters the data collection based on user input</li>
<li>ProductCategoryRow (turquoise): displays a heading for each category</li>
<li>ProductRow (red): displays a row for each product</li>
</ol>
<p>If you look at <strong>ProductTable</strong>, you’ll see that the table header (containing the “Name” and “Price” labels) isn’t its own component. This is a matter of preference, and there’s an argument to be made either way. For this example, we left it as part of <strong>ProductTable</strong> because it is part of rendering the data collection which is <strong>ProductTable</strong>’s responsibility. However, if this header grows to be complex (i.e. if we were to add affordances for sorting), it would certainly make sense to make this its own <strong>ProductTableHeader</strong> component.</p>
<p>Now that we’ve identified the components in our mock, let’s arrange them into a hierarchy. This is easy. Components that appear within another component in the mock should appear as a child in the hierarchy:</p>
<ul>
<li>FilterableProductTable<ul>
<li>SearchBar</li>
<li>ProductTable<ul>
<li>ProductCategoryRow</li>
<li>ProductRow</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Step-2-Build-A-Static-Version-in-React"><a href="#Step-2-Build-A-Static-Version-in-React" class="headerlink" title="Step 2: Build A Static Version in React"></a>Step 2: Build A Static Version in React</h1><p>[codepen_embed height=”265” theme_id=”0” slug_hash=”BwWzwm” default_tab=”js,result” user=”gaearon”]See the Pen <a href="https://codepen.io/gaearon/pen/BwWzwm/" target="_blank" rel="noopener">Thinking In React: Step 2</a> by Dan Abramov (<a href="https://codepen.io/gaearon" target="_blank" rel="noopener">@gaearon</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.[/codepen_embed]</p>
<p>Now that you have your component hierarchy, it’s time to implement your app. The easiest way is to build a version that takes your data model and renders the UI but has no interactivity. It’s best to decouple these processes because building a static version requires a lot of typing and no thinking, and adding interactivity requires a lot of thinking and not a lot of typing. We’ll see why.</p>
<p>To build a static version of your app that renders your data model, you’ll want to build components that reuse other components and pass data using props. props are a way of passing data from parent to child. If you’re familiar with the concept of state, <strong>don’t use state at all</strong> to build this static version. State is reserved only for interactivity, that is, data that changes over time. Since this is a static version of the app, you don’t need it.</p>
<p>You can build top-down or bottom-up. That is, you can either start with building the components higher up in the hierarchy (i.e. starting with FilterableProductTable) or with the ones lower in it (ProductRow). In simpler examples, it’s usually easier to go top-down, and on larger projects, it’s easier to go bottom-up and write tests as you build.</p>
<p>At the end of this step, you’ll have a library of reusable components that render your data model. The components will only have render() methods since this is a static version of your app. The component at the top of the hierarchy (FilterableProductTable) will take your data model as a prop. If you make a change to your underlying data model and call ReactDOM.render() again, the UI will be updated. It’s easy to see how your UI is updated and where to make changes since there’s nothing complicated going on. React’s <strong>one-way data flow</strong> (also called one-way binding) keeps everything modular and fast.</p>
<p>Simply refer to the <a href="https://reactjs.org/docs/" target="_blank" rel="noopener">React docs</a> if you need help executing this step.</p>
<h2 id="A-Brief-Interlude-Props-vs-State"><a href="#A-Brief-Interlude-Props-vs-State" class="headerlink" title="A Brief Interlude: Props vs State"></a>A Brief Interlude: Props vs State</h2><p>There are two types of “model” data in React: props and state. It’s important to understand the distinction between the two; skim the official React docs if you aren’t sure what the difference is.</p>
<h1 id="Step-3-Identify-The-Minimal-but-complete-Representation-Of-UI-State"><a href="#Step-3-Identify-The-Minimal-but-complete-Representation-Of-UI-State" class="headerlink" title="Step 3: Identify The Minimal (but complete) Representation Of UI State"></a>Step 3: Identify The Minimal (but complete) Representation Of UI State</h1><p>To make your UI interactive, you need to be able to trigger changes to your underlying data model. React makes this easy with <strong>state</strong>.</p>
<p>To build your app correctly, you first need to think of the minimal set of mutable state that your app needs. The key here is DRY: <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" rel="noopener">Don’t Repeat Yourself</a>. Figure out the absolute minimal representation of the state your application needs and compute everything else you need on-demand. For example, if you’re building a TODO list, just keep an array of the TODO items around; don’t keep a separate state variable for the count. Instead, when you want to render the TODO count, simply take the length of the TODO items array.</p>
<p>Think of all of the pieces of data in our example application. We have:</p>
<ul>
<li><p>The original list of products</p>
</li>
<li><p>The search text the user has entered</p>
</li>
<li><p>The value of the checkbox</p>
</li>
<li><p>The filtered list of products</p>
</li>
</ul>
<p>Let’s go through each one and figure out which one is state. Simply ask three questions about each piece of data:</p>
<ol>
<li><p>Is it passed in from a parent via props? If so, it probably isn’t state.</p>
</li>
<li><p>Does it remain unchanged over time? If so, it probably isn’t state.</p>
</li>
<li><p>Can you compute it based on any other state or props in your component? If so, it isn’t state.</p>
</li>
</ol>
<p>The original list of products is passed in as props, so that’s not state. The search text and the checkbox seem to be state since they change over time and can’t be computed from anything. And finally, the filtered list of products isn’t state because it can be computed by combining the original list of products with the search text and value of the checkbox.</p>
<p>So finally, our state is:</p>
<ul>
<li><p>The search text the user has entered</p>
</li>
<li><p>The value of the checkbox</p>
</li>
</ul>
<h1 id="Step-4-Identify-Where-Your-State-Should-Live"><a href="#Step-4-Identify-Where-Your-State-Should-Live" class="headerlink" title="Step 4: Identify Where Your State Should Live"></a>Step 4: Identify Where Your State Should Live</h1><p>[codepen_embed height=”265” theme_id=”0” slug_hash=”qPrNQZ” default_tab=”js,result” user=”gaearon”]See the Pen <a href="https://codepen.io/gaearon/pen/qPrNQZ/" target="_blank" rel="noopener">Thinking In React: Step 4</a> by Dan Abramov (<a href="https://codepen.io/gaearon" target="_blank" rel="noopener">@gaearon</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.[/codepen_embed]</p>
<p>OK, so we’ve identified what the minimal set of app state is. Next, we need to identify which component mutates, or owns, this state.</p>
<p>Remember: React is all about one-way data flow down the component hierarchy. It may not be immediately clear which component should own what state. <strong>This is often the most challenging part for newcomers to understand</strong>, so follow these steps to figure it out:</p>
<p>For each piece of state in your application:</p>
<ul>
<li><p>Identify every component that renders something based on that state.</p>
</li>
<li><p>Find a common owner component (a single component above all the components that need the state in the hierarchy).</p>
</li>
<li><p>Either the common owner or another component higher up in the hierarchy should own the state.</p>
</li>
<li><p>If you can’t find a component where it makes sense to own the state, create a new component simply for holding the state and add it somewhere in the hierarchy above the common owner component.</p>
</li>
</ul>
<p>Let’s run through this strategy for our application:</p>
<ul>
<li><p>ProductTable needs to filter the product list based on state and SearchBar needs to display the search text and checked state.</p>
</li>
<li><p>The common owner component is FilterableProductTable.</p>
</li>
<li><p>It conceptually makes sense for the filter text and checked value to live in FilterableProductTable</p>
</li>
</ul>
<p>Cool, so we’ve decided that our state lives in FilterableProductTable. First, add an instance property <code>this.state = {filterText: &#39;&#39;, inStockOnly: false}</code> to FilterableProductTable’s constructor to reflect the initial state of your application. Then, pass filterText and inStockOnly to ProductTable and SearchBar as a prop. Finally, use these props to filter the rows in ProductTable and set the values of the form fields in SearchBar.</p>
<p>You can start seeing how your application will behave: set filterText to “ball” and refresh your app. You’ll see that the data table is updated correctly.</p>
<h1 id="Step-5-Add-Inverse-Data-Flow"><a href="#Step-5-Add-Inverse-Data-Flow" class="headerlink" title="Step 5: Add Inverse Data Flow"></a>Step 5: Add Inverse Data Flow</h1><p>[codepen_embed height=”265” theme_id=”0” slug_hash=”LzWZvb” default_tab=”js,result” user=”gaearon”]See the Pen <a href="https://codepen.io/gaearon/pen/LzWZvb/" target="_blank" rel="noopener">Thinking In React: Step 5</a> by Dan Abramov (<a href="https://codepen.io/gaearon" target="_blank" rel="noopener">@gaearon</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.[/codepen_embed]</p>
<p>So far, we’ve built an app that renders correctly as a function of props and state flowing down the hierarchy. Now it’s time to support data flowing the other way: the form components deep in the hierarchy need to update the state in <code>FilterableProductTable</code>.</p>
<p>React makes this data flow explicit to make it easy to understand how your program works, but it does require a little more typing than traditional two-way data binding.</p>
<p>If you try to type or check the box in the current version of the example, you’ll see that React ignores your input. This is intentional, as we’ve set the value prop of the input to always be equal to the state passed in from FilterableProductTable.</p>
<p>Let’s think about what we want to happen. We want to make sure that whenever the user changes the form, we update the state to reflect the user input. Since components should only update their own state, FilterableProductTable will pass callbacks to SearchBar that will fire whenever the state should be updated. We can use the onChange event on the inputs to be notified of it. The callbacks passed by FilterableProductTable will call setState(), and the app will be updated.</p>
<p>Though this sounds complex, it’s really just a few lines of code. And it’s really explicit how your data is flowing throughout the app.</p>
<h1 id="And-That’s-It"><a href="#And-That’s-It" class="headerlink" title="And That’s It"></a>And That’s It</h1><p>Hopefully, this gives you an idea of how to think about building components and applications with React. While it may be a little more typing than you’re used to, remember that code is read far more than it’s written, and it’s extremely easy to read this modular, explicit code. As you start to build large libraries of components, you’ll appreciate this explicitness and modularity, and with code reuse, your lines of code will start to shrink. :)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/12/17/react_router4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/17/react_router4/" itemprop="url">理解 React Router 4.0</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-17T08:12:45+08:00">
                2017-12-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/React/React-Router/" itemprop="url" rel="index">
                    <span itemprop="name">React-Router</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/17/react_router4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/17/react_router4/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>React Router 4.0 （以下简称 RR4） 已经正式发布，它遵循React的设计理念，即万物皆组件。所以 RR4 只是一堆 提供了导航功能的组件（还有若干对象和方法），具有声明式（声明式编程简单来讲就是你只需要关心做什么，而无需关心如何去做，好比你写 React 组件，只需要 render 出你想要的组件，至于组件是如何实现的是 React 要处理的事情。），可组合性的特点。</p>
<ul>
<li>react-router React Router 核心</li>
<li>react-router-dom 用于 DOM 绑定的 React Router</li>
<li>react-router-native 用于 React Native 的 React Router</li>
<li>react-router-redux React Router 和 Redux 的集成</li>
<li>react-router-config 静态路由配置的小助手</li>
</ul>
</blockquote>
<h1 id="引入-react-router-dom"><a href="#引入-react-router-dom" class="headerlink" title="引入 react-router-dom"></a>引入 react-router-dom</h1><p><code>import { BrowserRouter, Link, Route, Redirect, Switch } from &#39;react-router-dom&#39;</code></p>
<h1 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a>简单例子</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;</span><br><span class="line">import ReactDom from &apos;react-dom&apos;</span><br><span class="line">import &#123; BrowserRouter, Link, Route, Redirect, Switch &#125; from &apos;react-router-dom&apos;</span><br><span class="line">import App from &apos;./App&apos;</span><br><span class="line"></span><br><span class="line">// First 组件</span><br><span class="line">function First () &#123; </span><br><span class="line">	return (</span><br><span class="line">		&lt;div&gt;first&lt;/div&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line">// second 组件 </span><br><span class="line">function Second () &#123;</span><br><span class="line">	return (</span><br><span class="line">		&lt;div&gt;second&lt;/div&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function ErrorPage (&#123; match &#125;) &#123;</span><br><span class="line">	return (</span><br><span class="line">		&lt;div&gt;404 错误地址:&#123;match.params.location&#125;</span><br><span class="line">			跳转至：</span><br><span class="line">			&lt;Redirect to=&apos;/first&apos;&gt;&lt;/Redirect&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDom.render(</span><br><span class="line">	(</span><br><span class="line">		&lt;BrowserRouter&gt;</span><br><span class="line">			&lt;div&gt;</span><br><span class="line">				&lt;ul&gt;</span><br><span class="line">					&lt;li&gt;</span><br><span class="line">						&lt;Link to=&apos;/&apos;&gt;home&lt;/Link&gt;</span><br><span class="line">					&lt;/li&gt;</span><br><span class="line">					&lt;li&gt;</span><br><span class="line">						&lt;Link to=&apos;/first&apos;&gt;first&lt;/Link&gt;</span><br><span class="line">					&lt;/li&gt;</span><br><span class="line">					&lt;li&gt;</span><br><span class="line">						&lt;Link to=&apos;/Second&apos;&gt;second&lt;/Link&gt;</span><br><span class="line">					&lt;/li&gt;</span><br><span class="line">				&lt;/ul&gt;</span><br><span class="line">				&lt;Switch&gt;</span><br><span class="line">					&lt;Route path=&apos;/&apos; exact component=&#123;App&#125;&gt;&lt;/Route&gt;</span><br><span class="line">					&lt;Route path=&apos;/first&apos; exact component=&#123;First&#125;&gt;&lt;/Route&gt;</span><br><span class="line">					&lt;Route path=&apos;/Second&apos; exact component=&#123;Second&#125;&gt;&lt;/Route&gt;</span><br><span class="line">					&lt;Route path=&apos;/:location&apos; component=&#123;ErrorPage&#125;&gt;&lt;/Route&gt;</span><br><span class="line">				&lt;/Switch&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		&lt;/BrowserRouter&gt;</span><br><span class="line">	),</span><br><span class="line">	document.getElementById(&apos;root&apos;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id=""><a href="#" class="headerlink" title=""></a><browserrouter></browserrouter></h2><p>A <router> that uses the HTML5 history API (pushState, replaceState and the popstate event) to keep your UI in sync with the URL</router></p>
<h3 id="basename-string"><a href="#basename-string" class="headerlink" title="basename: string"></a>basename: string</h3><p>The base URL for all locations. If your app is served from a sub-directory on your server, you’ll want to set this to the sub-directory. A properly formatted basename should have a leading slash, but no trailing slash.</p>
<h3 id="getUserConfirmation-func"><a href="#getUserConfirmation-func" class="headerlink" title="getUserConfirmation: func"></a>getUserConfirmation: func</h3><p>A function to use to confirm navigation. Defaults to using window.confirm.</p>
<h3 id="forceRefresh-bool"><a href="#forceRefresh-bool" class="headerlink" title="forceRefresh: bool"></a>forceRefresh: bool</h3><p>If true the router will use full page refreshes on page navigation. You probably only want this in browsers that don’t support the HTML5 history API.</p>
<h3 id="keyLength-number"><a href="#keyLength-number" class="headerlink" title="keyLength: number"></a>keyLength: number</h3><p>The length of location.key. Defaults to 6.</p>
<p>###children: node<br>A single child element to render.</p>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a><link></h2><p>Provides declarative, accessible navigation around your application.</p>
<h3 id="to-string"><a href="#to-string" class="headerlink" title="to: string"></a>to: string</h3><p>The pathname or location to link to.</p>
<h3 id="to-object"><a href="#to-object" class="headerlink" title="to: object"></a>to: object</h3><p>The location to link to.</p>
<h3 id="replace-bool"><a href="#replace-bool" class="headerlink" title="replace: bool"></a>replace: bool</h3><p>When true, clicking the link will replace the current entry in the history stack instead of adding a new one.</p>
<h2 id="-2"><a href="#-2" class="headerlink" title=""></a><route></route></h2><p>The Route component is perhaps the most important component in React Router to understand and learn to use well. Its most basic responsibility is to render some UI when a location matches the route’s path.<br>Consider the following code:</p>
<h2 id="-3"><a href="#-3" class="headerlink" title=""></a><redirect></redirect></h2><p>Rendering a <redirect> will navigate to a new location. The new location will override the current location in the history stack, like server-side redirects (HTTP 3xx) do.</redirect></p>
<h3 id="to-string-1"><a href="#to-string-1" class="headerlink" title="to: string"></a>to: string</h3><p>The URL to redirect to.</p>
<h3 id="to-object-1"><a href="#to-object-1" class="headerlink" title="to: object"></a>to: object</h3><p>A location to redirect to.</p>
<h3 id="push-bool"><a href="#push-bool" class="headerlink" title="push: bool"></a>push: bool</h3><p>When true, redirecting will push a new entry onto the history instead of replacing the current one.</p>
<h3 id="from-string"><a href="#from-string" class="headerlink" title="from: string"></a>from: string</h3><p>A pathname to redirect from. This can only be used to match a location when rendering a <redirect> inside of a <switch>. See <switch children=""> for more details.</switch></switch></redirect></p>
<h2 id="-4"><a href="#-4" class="headerlink" title=""></a><switch></switch></h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/12/16/react_life_cycle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/16/react_life_cycle/" itemprop="url">React 生命周期详解</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-16T06:12:53+08:00">
                2017-12-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/16/react_life_cycle/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/16/react_life_cycle/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="React-生命周期"><a href="#React-生命周期" class="headerlink" title="React 生命周期"></a>React 生命周期</h1><h2 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h2><p>构造函数，组件初始化</p>
<h2 id="componentWillMount"><a href="#componentWillMount" class="headerlink" title="componentWillMount"></a>componentWillMount</h2><p>组件即将挂载</p>
<h2 id="componentDidMount"><a href="#componentDidMount" class="headerlink" title="componentDidMount"></a>componentDidMount</h2><p>组件已挂载</p>
<h2 id="componentWillReceiveProps"><a href="#componentWillReceiveProps" class="headerlink" title="componentWillReceiveProps"></a>componentWillReceiveProps</h2><p>组件要接受父组件的参数</p>
<h2 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h2><p>判断是否要更新组件</p>
<h2 id="componentWillUpdate"><a href="#componentWillUpdate" class="headerlink" title="componentWillUpdate"></a>componentWillUpdate</h2><p>组件即将更新</p>
<h2 id="componentDidUpdate"><a href="#componentDidUpdate" class="headerlink" title="componentDidUpdate"></a>componentDidUpdate</h2><p>组件已更新</p>
<h2 id="componentWillUnmount"><a href="#componentWillUnmount" class="headerlink" title="componentWillUnmount"></a>componentWillUnmount</h2><p>组件即将卸载</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/12/11/flex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/11/flex/" itemprop="url">flex 弹性布局详解</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T14:25:00+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/11/flex/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/11/flex/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="弹性盒子属性"><a href="#弹性盒子属性" class="headerlink" title="弹性盒子属性"></a>弹性盒子属性</h1><blockquote>
<p><strong>图中是一个 <code>flex-direction</code> 属性为 <code>row</code> 的弹性容器</strong></p>
</blockquote>
<p><img src="https://mdn.mozillademos.org/files/12998/flexbox.png" alt=""></p>
<h2 id="弹性容器-Flex-container"><a href="#弹性容器-Flex-container" class="headerlink" title="弹性容器(Flex container)"></a>弹性容器(Flex container)</h2><p>包含着弹性项目的父元素。通过设置 <code>display</code> 属性的值为 <code>flex</code> 或 <code>inline-flex</code> 来定义弹性容器。</p>
<h2 id="弹性项目-Flex-item"><a href="#弹性项目-Flex-item" class="headerlink" title="弹性项目(Flex item)"></a>弹性项目(Flex item)</h2><p>弹性容器的每个子元素都称为<strong>弹性项目</strong>。<strong>弹性容器直接包含的文本将被包覆成匿名弹性单元</strong>。</p>
<h2 id="轴-Axis"><a href="#轴-Axis" class="headerlink" title="轴(Axis)"></a>轴(Axis)</h2><p>每个弹性框布局包含两个轴。弹性项目沿其依次排列的那根轴称为<strong>主轴(main axis)</strong>。垂直于主轴的那根轴称为<strong>侧轴(cross axis)</strong>。</p>
<p>以下为flex容器属性:</p>
<h3 id="flex-direction-确立主轴-初始值-row。"><a href="#flex-direction-确立主轴-初始值-row。" class="headerlink" title="flex-direction 确立主轴, 初始值:row。"></a>flex-direction 确立主轴, 初始值:row。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* 水平排成一行 */</span><br><span class="line">flex-direction: row;</span><br><span class="line"></span><br><span class="line">/* 排成一行，与row成反方向 */</span><br><span class="line">flex-direction: row-reverse;</span><br><span class="line"></span><br><span class="line">/* 垂直排成一行 */</span><br><span class="line">flex-direction: column;</span><br><span class="line"></span><br><span class="line">/* 垂直排成一行，与column值成反方向 */</span><br><span class="line">flex-direction: column-reverse;</span><br><span class="line"></span><br><span class="line">/* 全局值 */</span><br><span class="line">flex-direction: inherit;</span><br><span class="line">flex-direction: initial;</span><br><span class="line">flex-direction: unset;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>请注意，值 row 和 row-reverse 受 flex 容器的方向性的影响。 如果它的 dir 属性是 ltr，row 表示从左到右定向的水平轴，而 row-reverse 表示从右到左; 如果 dir 属性是 rtl，row 表示从右到左定向的轴，而 row-reverse 表示从左到右</p>
</blockquote>
<h3 id="justify-content-定义了在当前行上，弹性项目沿主轴-main-axis-如何排布。"><a href="#justify-content-定义了在当前行上，弹性项目沿主轴-main-axis-如何排布。" class="headerlink" title="justify-content 定义了在当前行上，弹性项目沿主轴(main axis)如何排布。"></a>justify-content 定义了在当前行上，弹性项目沿主轴(main axis)如何排布。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/* Positional alignment */</span><br><span class="line">justify-content: center;     /* 居中排列 */</span><br><span class="line">justify-content: start;      /* Pack items from the start */</span><br><span class="line">justify-content: end;        /* Pack items from the end */</span><br><span class="line">justify-content: flex-start; /* 从行首起始位置开始排列 */</span><br><span class="line">justify-content: flex-end;   /* 从行尾位置开始排列 */</span><br><span class="line">justify-content: left;       /* Pack items from the left */</span><br><span class="line">justify-content: right;      /* Pack items from the right */</span><br><span class="line"></span><br><span class="line">/* Distributed alignment */</span><br><span class="line">justify-content: space-between;  /* 均匀排列每个元素</span><br><span class="line">                                   首个元素放置于起点，末尾元素放置于终点 */</span><br><span class="line">justify-content: space-around;  /* 均匀排列每个元素</span><br><span class="line">                                   每个元素周围分配相同的空间 */</span><br><span class="line">justify-content: space-evenly;  /* Distribute items evenly</span><br><span class="line">                                   Items have equal space around them */</span><br><span class="line">justify-content: stretch;       /* Distribute items evenly</span><br><span class="line">                                   Stretch &apos;auto&apos;-sized items to fit</span><br><span class="line">                                   the container */</span><br><span class="line"></span><br><span class="line">/* Overflow alignment */</span><br><span class="line">justify-content: safe center;</span><br><span class="line">justify-content: unsafe center;</span><br><span class="line"></span><br><span class="line">/* Global values */</span><br><span class="line">justify-content: inherit;</span><br><span class="line">justify-content: initial;</span><br><span class="line">justify-content: unset;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当 length 属性和自动外边距属性（margin: auto）生效之后，对齐已经完成了。也就是说，如果存在至少一个弹性元素，而且这个元素的 flex-grow 属性不等于 0，那么对齐方式不会生效，就像没有多余空间的情况</p>
</blockquote>
<h3 id="align-items-定义了在当前行上，弹性项目沿侧轴默认如何排布。"><a href="#align-items-定义了在当前行上，弹性项目沿侧轴默认如何排布。" class="headerlink" title="align-items 定义了在当前行上，弹性项目沿侧轴默认如何排布。"></a>align-items 定义了在当前行上，弹性项目沿侧轴默认如何排布。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/* Basic keywords */</span><br><span class="line">align-items: normal; // 默认</span><br><span class="line">align-items: stretch; </span><br><span class="line"></span><br><span class="line">/* Positional alignment */</span><br><span class="line">align-items: center; /* Pack items around the center */</span><br><span class="line">align-items: start; /* Pack items from the start */</span><br><span class="line">align-items: end; /* Pack items from the end */</span><br><span class="line">align-items: flex-start; /* Pack flex items from the start */</span><br><span class="line">align-items: flex-end; /* Pack flex items from the end */</span><br><span class="line">align-items: self-start;</span><br><span class="line">align-items: self-end;</span><br><span class="line">align-items: left; /* Pack items from the left */</span><br><span class="line">align-items: right; /* Pack items from the right */</span><br><span class="line"></span><br><span class="line">/* Baseline alignment */ justify-items: baseline;</span><br><span class="line">align-items: first baseline;</span><br><span class="line">align-items: last baseline; /* Overflow alignment (for positional alignment only) */</span><br><span class="line">align-items: safe center;</span><br><span class="line">align-items: unsafe center;</span><br></pre></td></tr></table></figure>
<h3 id="align-self-定义了单个弹性项目在侧轴上应当如何对齐，这个定义会覆盖由-align-items-所确立的默认值。"><a href="#align-self-定义了单个弹性项目在侧轴上应当如何对齐，这个定义会覆盖由-align-items-所确立的默认值。" class="headerlink" title="align-self 定义了单个弹性项目在侧轴上应当如何对齐，这个定义会覆盖由 align-items 所确立的默认值。"></a>align-self 定义了单个弹性项目在侧轴上应当如何对齐，这个定义会覆盖由 align-items 所确立的默认值。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">align-self: auto // 设置为父元素的 align-items 值，如果该元素没有父元素的话，就设置为 stretch。</span><br><span class="line">align-self: flex-start // flex 元素会对齐到 cross-axis 的首端。</span><br><span class="line">align-self: flex-end // flex 元素会对齐到 cross-axis 的尾端。</span><br><span class="line">align-self: center // flex 元素会对齐到 cross-axis 的中间，如果该元素的 cross-size 的尺寸大于 flex 容器，将在两个方向均等溢出。</span><br><span class="line">align-self: baseline // 所有的 flex 元素会沿着基线对齐</span><br><span class="line">align-self: stretch // flex 元素将会基于容器的宽和高，按照自身 margin box 的 cross-size 拉伸。</span><br><span class="line"></span><br><span class="line">align-self: inherit</span><br></pre></td></tr></table></figure>
<h4 id="align-items-与-align-content-区别"><a href="#align-items-与-align-content-区别" class="headerlink" title="align-items 与 align-content 区别"></a>align-items 与 align-content 区别</h4><p>与align-content属性的区别在于align-items指定了当前Flex容器的每行项目的对齐方式，而align-content则指定了行自身整体的对齐方式</p>
<h2 id="方向-Direction"><a href="#方向-Direction" class="headerlink" title="方向(Direction):"></a>方向(Direction):</h2><p>弹性容器的主轴起点(main start)/主轴终点(main end)和侧轴起点(cross start)/侧轴终点(cross end)描述了弹性项目排布的起点与终点。它们具体取决于弹性容器的主轴与侧轴中，由 writing-mode 确立的方向（从左到右、从右到左，等等）。</p>
<blockquote>
<ul>
<li>order 属性将元素与序号关联起来，以此决定哪些元素先出现。</li>
<li>flex-flow 属性是 flex-direction 和 flex-wrap 属性的简写，决定弹性项目如何排布。</li>
</ul>
</blockquote>
<h2 id="行-Line"><a href="#行-Line" class="headerlink" title="行(Line)"></a>行(Line)</h2><p>根据 <code>flex-wrap</code> 属性，弹性项目可以排布在单个行或者多个行中。此属性控制侧轴的方向和新行排列的方向。</p>
<h2 id="尺寸-Dimension"><a href="#尺寸-Dimension" class="headerlink" title="尺寸(Dimension)"></a>尺寸(Dimension)</h2><p>根据弹性容器的主轴与侧轴，弹性项目的宽和高中，对应主轴的称为主轴尺寸(main size) ，对应侧轴的称为 侧轴尺寸(cross size)。</p>
<blockquote>
<ul>
<li>min-height 与 min-width 属性初始值将为 0。</li>
<li>flex 属性是 flex-grow、flex-shrink 和 flex-basis 属性的简写，描述弹性项目的整体的伸缩性。</li>
</ul>
</blockquote>
<h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p><code>flex-grow</code> ：<br>可理解成弹性盒子项<em>占据</em>剩余空间的比例。<br>若flex容器width为400px，容器内有3个width为100px弹性盒子项，这时<br><img src="https://raw.githubusercontent.com/7zf001/toolBox/master/images/flex-grow1.png" alt="flex-grow1"><br>当对第三个元素添加flex-grow:1，此元素width会扩展剩余的空间，因为其他两个元素默认flex-grow为0,0+0+1=1，第三个元素占100%比例（占用剩余的空间比例）。<br><img src="https://raw.githubusercontent.com/7zf001/toolBox/master/images/flex-grow2.png" alt="flex-grow2"><br>若把第二个元素也添加flex-grow:1,此时0+1+1=2，第二、三元素各占50%。<br><img src="https://raw.githubusercontent.com/7zf001/toolBox/master/images/flex-grow3.png" alt="flex-grow3"></p>
<h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p>flex-shrink：属性指定了 flex 元素的收缩规则。flex 元素仅在默认宽度之和大于容器的时候才会发生收缩，其收缩的大小是依据 flex-shrink 的值。<br>假如flex容器是400px，现在有5个子元素分别都是100px如下面算法：<br>每个元素flex-shrink默认为1：<br>5 <em> 100 = 500 - 400 = 多出100 / 5 == 每个减20px<br>如果把其中一个元素改成flex-shrink：2<br>5 </em> 100 = 500 - 400 = 多出100 / 6 == 16.666666666,你为2的要减16.666666666 * 2</p>
<h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p>flex-basis：指定了 flex 元素在主轴方向上的初始大小。如果不使用 box-sizing 来改变盒模型的话，那么这个属性就决定了 flex 元素的内容盒（content-box）的宽或者高（取决于主轴的方向）的尺寸大小。</p>
<p>简单说与width属性类似，如果同时设置flex-basis和width，那么width属性会被覆盖掉。</p>
<h1 id="弹性盒子相关属性"><a href="#弹性盒子相关属性" class="headerlink" title="弹性盒子相关属性"></a>弹性盒子相关属性</h1><h2 id="不影响弹性盒子的属性"><a href="#不影响弹性盒子的属性" class="headerlink" title="不影响弹性盒子的属性"></a>不影响弹性盒子的属性</h2><p>由于弹性盒子使用了不同的布局算法，某些属性用在弹性容器上没有意义：</p>
<blockquote>
<ul>
<li>多栏布局模块的 column-* 属性对弹性项目无效。</li>
<li>float 与 clear 对弹性项目无效。使用 float 将使元素的 display 属性计为block。</li>
<li>vertical-align 对弹性项目的对齐无效。</li>
</ul>
</blockquote>
<p>部分参考：<a href="https://zhoon.github.io/css3/2014/08/23/flex.html" target="_blank" rel="noopener">ZhoonChen</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/12/07/reactNote/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/reactNote/" itemprop="url">JSX - React 笔记</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T13:05:00+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/07/reactNote/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/07/reactNote/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h1><blockquote>
<p>JSX(js xml)是React中的语法糖</p>
</blockquote>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class A extends React.Componet &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div className=&quot;app&quot;&gt;</span><br><span class="line">                This is JSX</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="JSX本身其实也是一种表达式"><a href="#JSX本身其实也是一种表达式" class="headerlink" title="JSX本身其实也是一种表达式:"></a>JSX本身其实也是一种表达式:</h2><p>在编译之后呢，JSX 其实会被转化为普通的 JavaScript 对象。<br>意味着可以把它赋值给变量，当做函数传入和返回值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">var a = &lt;div&gt;exp&lt;/div&gt;; </span><br><span class="line">render() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div className=&quot;app&quot;&gt;</span><br><span class="line">            &#123;a&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h2 id="在JSX使用表达式需要在-花扣号内中写"><a href="#在JSX使用表达式需要在-花扣号内中写" class="headerlink" title="在JSX使用表达式需要在{}花扣号内中写:"></a>在JSX使用表达式需要在{}花扣号内中写:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">render() &#123;</span><br><span class="line">        var isTrue = true;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div className=&quot;app&quot; title=&#123;this.props.title&#125;&gt;</span><br><span class="line">                &#123;isTrue &amp;&amp; &lt;div&gt;show div&lt;/div&gt;&#125; // 短路操作</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/08/16/vueEventBus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/16/vueEventBus/" itemprop="url">Vue Event Bus 解决组件的数据传递</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-16T17:52:00+08:00">
                2017-08-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/Vue/" itemprop="url" rel="index">
                    <span itemprop="name">Vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/16/vueEventBus/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/16/vueEventBus/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><blockquote>
<p>在不使用vuex的情况下，实现非父子组件的数据传递。<br>当然你项目中使用着vuex就不必要再用event bus了。</p>
</blockquote>
<h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>我们需要有一个 Vue 实例来充当通信媒介的作用</p>
<p>创建一个 src/bus.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// src/bus.js</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">export default new Vue()</span><br></pre></td></tr></table></figure></p>
<p>在<em>组件A</em>中使用 <code>$on(eventName)</code> 监听事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import Bus from &apos;src/bus&apos;  // 引入bus.js文件</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    // $on</span><br><span class="line">    Bus.$on(&apos;setTitle&apos;, text =&gt; &#123;</span><br><span class="line">      this.title = text;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<em>组件B</em>中使用 <code>$emit(eventName)</code> 触发事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import Bus from &apos;src/bus&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  methods:&#123;</span><br><span class="line">    emitTitle () &#123;</span><br><span class="line">      Bus.$emit(&apos;setTitle&apos;, &apos;我的标题&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这个方法只是利用vue实例实现通讯。用$on、$emit来监听和触发事件。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/08/09/scopeHosting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/09/scopeHosting/" itemprop="url">JavaScript的作用域和变量提升</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-09T21:10:00+08:00">
                2017-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/09/scopeHosting/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/09/scopeHosting/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p>作用域在编程语言中，它是控制着变量与参数的可访问性和生命周期。</p>
<p>作用域这个东西呢，可以假设它是一个采集工人，专注于收集和维护所有声明的标识符（变量），并且将标识符组成一系列的查询，并实现一套规则来管理标识符，确定执行环境（执行上下文）对标识符的使用权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function foo () &#123;</span><br><span class="line">  var a = 1, b = 3;</span><br><span class="line">  console.log(c) // 报错，变量c没有定义，父级函数不能获取子函数中的变量</span><br><span class="line">  // a =&gt; 1, b =&gt; 3</span><br><span class="line">  function bar () &#123;</span><br><span class="line">    var c = 5, d = 7;</span><br><span class="line">    a += b + c; // 可访问父级函数的a,b变量，并修改变量a的值</span><br><span class="line">  &#125;  </span><br><span class="line">  // a =&gt; 1, b =&gt; 3</span><br><span class="line">  bar();</span><br><span class="line">  // a =&gt; 9, b =&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<h2 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h2><p>在JS函数中的var声明，其作用域是函数体的全部，在ES6之前并没有块级作用域的说法，在ES5中只有全局作用域和函数作用域。</p>
<p>大多数像C语言的语言都拥有块级作用域，就是在一个代码块中（在一对花括号中的语句）定义的所有变量在代码块的外部是不可访问的，定义在代码块中的变量会在代码块执行完毕后会释放掉。</p>
<p>在ES6中的新特性：let、const提供了块级作用域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (true) &#123;</span><br><span class="line">  let a = 1;   </span><br><span class="line">&#125;</span><br><span class="line">console.log(a)// Uncaught ReferenceError: a is not defined</span><br></pre></td></tr></table></figure>
<h1 id="变量提升（Hoisting"><a href="#变量提升（Hoisting" class="headerlink" title="变量提升（Hoisting)"></a>变量提升（Hoisting)</h1><p>直觉上会认为JavaScript代码在执行时是由上到下一行一行执行的。但实际上并不完全正确，有一种特殊情况会导致这个假设是错误的。</p>
<p>考虑下面的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = 2;</span><br><span class="line">var a;</span><br><span class="line">console.log(a) // a =&gt; 2</span><br></pre></td></tr></table></figure>
<p>这种写法固然是不推荐的，但它却正确地输出出来，到底是为什么呢。</p>
<p>再看看一下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(a) // a =&gt; undefined</span><br><span class="line">var a = 2</span><br></pre></td></tr></table></figure></p>
<p>搞明白这个问题，要了解<strong>引擎</strong>和<strong>编译器</strong>的机制。</p>
<p>引擎在解释JavaSript代码之前首先会对其进行编译，编译阶段中的一部分工作就是找到所有的声明，并用合适的作用域将它们关联起来。</p>
<p>因此，正确的思路是：在<strong>编译</strong>的时候，变量和函数在内的所有声明都会在任何代码被执行之前被处理。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2017/08/07/axiosNote/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/axiosNote/" itemprop="url">axios入门</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:37:00+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/07/axiosNote/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/07/axiosNote/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="axios入门"><a href="#axios入门" class="headerlink" title="axios入门"></a>axios入门</h1><h2 id="安装到项目中："><a href="#安装到项目中：" class="headerlink" title="安装到项目中："></a>安装到项目中：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure>
<h2 id="在项目中import使用："><a href="#在项目中import使用：" class="headerlink" title="在项目中import使用："></a>在项目中import使用：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br></pre></td></tr></table></figure>
<p>Axios和其他的ajax库都是很类似的，提供了2种使用的方式一种是直接使用实例方法的如：<br>下面是实例的所有可用方法，方法中的config会与axios实例中的config合并。（实例可以将一些通用的config先配置好）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&apos;/user?ID=12345&apos;)</span><br><span class="line">.then(function (response) &#123;</span><br><span class="line">  console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Config-配置："><a href="#Config-配置：" class="headerlink" title="Config 配置："></a>Config 配置：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // `url`是将用于请求的服务器URL</span><br><span class="line">  url: &apos;/user&apos;,</span><br><span class="line">  // `method`是发出请求时使用的请求方法</span><br><span class="line">  method: &apos;get&apos;, // 默认</span><br><span class="line">  // `baseURL`将被添加到`url`前面，除非`url`是绝对的。</span><br><span class="line">  // 可以方便地为 axios 的实例设置`baseURL`，以便将相对 URL 传递给该实例的方法。</span><br><span class="line">  baseURL: &apos;https://some-domain.com/api/&apos;,</span><br><span class="line">  // `transformRequest`允许在请求数据发送到服务器之前对其进行更改</span><br><span class="line">  // 这只适用于请求方法&apos;PUT&apos;，&apos;POST&apos;和&apos;PATCH&apos;</span><br><span class="line">  // 数组中的最后一个函数必须返回一个字符串，一个 ArrayBuffer或一个 Stream</span><br><span class="line">  transformRequest: [function (data) &#123;</span><br><span class="line">    // 做任何你想要的数据转换</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line">  // `transformResponse`允许在 then / catch之前对响应数据进行更改</span><br><span class="line">  transformResponse: [function (data) &#123;</span><br><span class="line">    // Do whatever you want to transform the data</span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line">  // `headers`是要发送的自定义 headers</span><br><span class="line">  headers: &#123;&apos;X-Requested-With&apos;: &apos;XMLHttpRequest&apos;&#125;,</span><br><span class="line">  // `params`是要与请求一起发送的URL参数</span><br><span class="line">  // 必须是纯对象或URLSearchParams对象</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: 12345</span><br><span class="line">  &#125;,</span><br><span class="line">  // `paramsSerializer`是一个可选的函数，负责序列化`params`</span><br><span class="line">  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span><br><span class="line">  paramsSerializer: function(params) &#123;</span><br><span class="line">    return Qs.stringify(params, &#123;arrayFormat: &apos;brackets&apos;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  // `data`是要作为请求主体发送的数据</span><br><span class="line">  // 仅适用于请求方法“PUT”，“POST”和“PATCH”</span><br><span class="line">  // 当没有设置`transformRequest`时，必须是以下类型之一：</span><br><span class="line">  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">  // - Browser only: FormData, File, Blob</span><br><span class="line">  // - Node only: Stream</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &apos;Fred&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  // `timeout`指定请求超时之前的毫秒数。</span><br><span class="line">  // 如果请求的时间超过&apos;timeout&apos;，请求将被中止。</span><br><span class="line">  timeout: 1000,</span><br><span class="line">  // `withCredentials`指示是否跨站点访问控制请求</span><br><span class="line">  // should be made using credentials</span><br><span class="line">  withCredentials: false, // default</span><br><span class="line">  // `adapter&apos;允许自定义处理请求，这使得测试更容易。</span><br><span class="line">  // 返回一个promise并提供一个有效的响应（参见[response docs]（＃response-api））</span><br><span class="line">  adapter: function (config) &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">  &#125;,</span><br><span class="line">  // `auth&apos;表示应该使用 HTTP 基本认证，并提供凭据。</span><br><span class="line">  // 这将设置一个`Authorization&apos;头，覆盖任何现有的`Authorization&apos;自定义头，使用`headers`设置。</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: &apos;janedoe&apos;,</span><br><span class="line">    password: &apos;s00pers3cret&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  // “responseType”表示服务器将响应的数据类型</span><br><span class="line">  // 包括 &apos;arraybuffer&apos;, &apos;blob&apos;, &apos;document&apos;, &apos;json&apos;, &apos;text&apos;, &apos;stream&apos;</span><br><span class="line">  responseType: &apos;json&apos;, // default</span><br><span class="line">  //`xsrfCookieName`是要用作 xsrf 令牌的值的cookie的名称</span><br><span class="line">  xsrfCookieName: &apos;XSRF-TOKEN&apos;, // default</span><br><span class="line">  // `xsrfHeaderName`是携带xsrf令牌值的http头的名称</span><br><span class="line">  xsrfHeaderName: &apos;X-XSRF-TOKEN&apos;, // default</span><br><span class="line">  // `onUploadProgress`允许处理上传的进度事件</span><br><span class="line">  onUploadProgress: function (progressEvent) &#123;</span><br><span class="line">    // 使用本地 progress 事件做任何你想要做的</span><br><span class="line">  &#125;,</span><br><span class="line">  // `onDownloadProgress`允许处理下载的进度事件</span><br><span class="line">  onDownloadProgress: function (progressEvent) &#123;</span><br><span class="line">    // Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line">  // `maxContentLength`定义允许的http响应内容的最大大小</span><br><span class="line">  maxContentLength: 2000,</span><br><span class="line">  // `validateStatus`定义是否解析或拒绝给定的promise</span><br><span class="line">  // HTTP响应状态码。如果`validateStatus`返回`true`（或被设置为`null` promise将被解析;否则，promise将被</span><br><span class="line">  // 拒绝。</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &gt;= 200 &amp;&amp; status &lt; 300; // default</span><br><span class="line">  &#125;,</span><br><span class="line">  // `maxRedirects`定义在node.js中要遵循的重定向的最大数量。</span><br><span class="line">  // 如果设置为0，则不会遵循重定向。</span><br><span class="line">  maxRedirects: 5, // 默认</span><br><span class="line">  // `httpAgent`和`httpsAgent`用于定义在node.js中分别执行http和https请求时使用的自定义代理。</span><br><span class="line">  // 允许配置类似`keepAlive`的选项，</span><br><span class="line">  // 默认情况下不启用。</span><br><span class="line">  httpAgent: new http.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">  // &apos;proxy&apos;定义代理服务器的主机名和端口</span><br><span class="line">  // `auth`表示HTTP Basic auth应该用于连接到代理，并提供credentials。</span><br><span class="line">  // 这将设置一个`Proxy-Authorization` header，覆盖任何使用`headers`设置的现有的`Proxy-Authorization` 自定义 headers。</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host: &apos;127.0.0.1&apos;,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: : &#123;</span><br><span class="line">      username: &apos;mikeymike&apos;,</span><br><span class="line">      password: &apos;rapunz3l&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // “cancelToken”指定可用于取消请求的取消令牌</span><br><span class="line">  // (see Cancellation section below for details)</span><br><span class="line">  cancelToken: new CancelToken(function (cancel) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="response-响应："><a href="#response-响应：" class="headerlink" title="response 响应："></a>response 响应：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 服务器返回的数据</span><br><span class="line">data: &#123;&#125;,</span><br><span class="line">// HTTP状态吗</span><br><span class="line">status: 200,</span><br><span class="line">// 服务器返回的消息</span><br><span class="line">statusText: &apos;OK&apos;,</span><br><span class="line">// 返回头</span><br><span class="line">headers: &#123;&#125;,</span><br><span class="line">// 在返回我们的配置</span><br><span class="line">config: &#123;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="统一配置："><a href="#统一配置：" class="headerlink" title="统一配置："></a>统一配置：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.timeout = 5000;</span><br><span class="line">axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded;charset=UTF-8&apos;;</span><br><span class="line">axios.defaults.baseURL = &apos;http://www.xxxx.xxx/api&apos;;</span><br><span class="line">// axios.defaults.baseURL = &apos;http://192.168.1.129:8383&apos;;</span><br></pre></td></tr></table></figure>
<h1 id="Interceptors-拦截器"><a href="#Interceptors-拦截器" class="headerlink" title="Interceptors 拦截器"></a>Interceptors 拦截器</h1><p>这里我必须重点介绍，在我们发起大量的请求时候，需要对请求做统一的处理那就用到它了。笔者在使用了vue-resource和axios之后亲身比较，axios的配置更加人性化。<br>官方的API上这样介绍</p>
<blockquote>
<p>You can intercept requests or responses before they are handled by then or catch.<br>您可以拦截请求或响应之前，他们处理的操作或者异常</p>
</blockquote>
<h1 id="实例用法："><a href="#实例用法：" class="headerlink" title="实例用法："></a>实例用法：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br><span class="line">import qs from &apos;qs&apos;</span><br><span class="line"></span><br><span class="line">axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded;charset=UTF-8&apos;;</span><br><span class="line">//POST传参序列化</span><br><span class="line">let params = &#123;</span><br><span class="line">　　username: &apos;tzf&apos;,</span><br><span class="line">　　password: &apos;123456&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.post(</span><br><span class="line">　　&apos;https://domail.com/api/login&apos;, //url</span><br><span class="line">　　qs.stringify(params)</span><br><span class="line">).then(</span><br><span class="line">　　res =&gt; &#123;</span><br><span class="line">　　　　console.log(res.data)</span><br><span class="line">　　&#125;,</span><br><span class="line">　　error =&gt; &#123;</span><br><span class="line">　　　　console.log(error)</span><br><span class="line">　　&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="request统一处理操作"><a href="#request统一处理操作" class="headerlink" title="request统一处理操作"></a>request统一处理操作</h1><p>如果是POST的请求，配置中可不能用params字段了，需要使用data字段。<br>这里有个小地方需要注意，POST的传参需要序列化，不然服务端不会正确的接收哦，会报错。所以这里我们要对request的数据进行一次序列化。这里我用了qs,直接import qs from ‘qs’ 即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br><span class="line">import qs from &apos;qs&apos;</span><br><span class="line">axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded;charset=UTF-8&apos;;</span><br><span class="line">//POST传参序列化</span><br><span class="line">axios.interceptors.request.use((config) =&gt; &#123;</span><br><span class="line">  if(config.method  === &apos;post&apos;)&#123;</span><br><span class="line">    config.data = qs.stringify(config.data);</span><br><span class="line">  &#125;</span><br><span class="line">  return config;</span><br><span class="line">&#125;,(error) =&gt;&#123;</span><br><span class="line">   alert(&quot;错误的传参&quot;);</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="response统一处理操作"><a href="#response统一处理操作" class="headerlink" title="response统一处理操作"></a>response统一处理操作</h1><p>也就是说我们可以统一的在发起请求前，或者获得数据，对其进行统一的操作。这点非常的高效，在笔者的项目中，接口会返回一个code,就和微信API一样，code为200代表返回请求数据正确为其它时就自动跳出弹窗打印消息即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//code状态码200判断</span><br><span class="line">axios.interceptors.response.use((res) =&gt;&#123;</span><br><span class="line">  if(res.data.code != &apos;200&apos;)&#123;</span><br><span class="line">    alert(res.data.msg);</span><br><span class="line">    return Promise.reject(res);</span><br><span class="line">  &#125;</span><br><span class="line">  return res;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">  alert(&quot;网络异常&quot;);</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果发生这些错误了我要结束当前的Promise所以返回一个Promise.reject(res)，停止Promise队列下面的操作,如果有对于Promise不熟悉的童鞋请自行搜索Promise(这里还遇到了一个小坑最后会介绍)</p>
<h1 id="参考配置"><a href="#参考配置" class="headerlink" title="参考配置"></a>参考配置</h1><p>文件名是config/http.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br><span class="line">import qs from &apos;qs&apos;</span><br><span class="line">import * as _ from &apos;./whole&apos;</span><br><span class="line">axios.defaults.timeout = 5000;</span><br><span class="line">axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded;charset=UTF-8&apos;;</span><br><span class="line">axios.defaults.baseURL = &apos;http://www.guinaben.com:8070&apos;;</span><br><span class="line">// axios.defaults.baseURL = &apos;http://192.168.1.129:8383&apos;;</span><br><span class="line">//POST传参序列化</span><br><span class="line">axios.interceptors.request.use((config) =&gt; &#123;</span><br><span class="line">  if(config.method  === &apos;post&apos;)&#123;</span><br><span class="line">    config.data = qs.stringify(config.data);</span><br><span class="line">  &#125;</span><br><span class="line">  return config;</span><br><span class="line">&#125;,(error) =&gt;&#123;</span><br><span class="line">   _.toast(&quot;错误的传参&quot;);</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;);</span><br><span class="line">//code状态码200判断</span><br><span class="line">axios.interceptors.response.use((res) =&gt;&#123;</span><br><span class="line">  if(res.data.code != &apos;200&apos;)&#123;</span><br><span class="line">    _.toast(res.data.msg);</span><br><span class="line">    return Promise.reject(res);</span><br><span class="line">  &#125;</span><br><span class="line">  return res;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">  _.toast(&quot;网络异常&quot;);</span><br><span class="line">  return Promise.reject(error);</span><br><span class="line">&#125;);</span><br><span class="line">export default axios;</span><br></pre></td></tr></table></figure>
<p>发起的请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;config/http&apos;</span><br><span class="line">axios(&#123;</span><br><span class="line">  method:&apos;get&apos;,</span><br><span class="line">  url: &apos;xxxx/xxxxx&apos;,</span><br><span class="line">  params: &#123;</span><br><span class="line">    &quot;textbook_id&quot;:id,</span><br><span class="line">    &quot;token&quot;:token</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then((response) =&gt; &#123;</span><br><span class="line">  resolve(response);</span><br><span class="line">&#125;)</span><br><span class="line">axios(&#123;</span><br><span class="line">  method:&apos;post&apos;,</span><br><span class="line">  url: &apos;teacher/pwd/resetByMobile&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">   &quot;textbook_id&quot;:id,</span><br><span class="line">    &quot;token&quot;:token</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then((response) =&gt; &#123;</span><br><span class="line">    resolve(response);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="一定要看"><a href="#一定要看" class="headerlink" title="一定要看"></a>一定要看</h1><p>因为这里我使用的Promise,所以在安卓4.4.3一下的手机还是不支持Promise的，所以会报错。需要引入npm install babel-polyfill和npm install babel-runtime，在入口文件上加上即可。</p>
<blockquote>
<p>import ‘babel-polyfill’<br>POST请求时，参数需要使用qs.stringify()</p>
</blockquote>
<p>参考链接：<a href="https://blog.ygxdxx.com/2017/01/29/Axios-Config/" target="_blank" rel="noopener">https://blog.ygxdxx.com/2017/01/29/Axios-Config/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2016/06/08/csscleanfloat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/08/csscleanfloat/" itemprop="url">css 消除浮动方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-08T14:36:47+08:00">
                2016-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/08/csscleanfloat/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/08/csscleanfloat/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h1><blockquote>
<p>问题:当全部子类元素浮动(float)时,父级无法根据子元素的高度拉升，这时候需要我们消除浮动。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .box &#123; border: 1px black solid;&#125;	</span><br><span class="line">	.div1 &#123;width:100px; height: 100px; float: left; background: red;&#125;</span><br><span class="line">	.div2 &#123;width:100px; height: 100px; float: left; background: blue;&#125;	</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">   &lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">   &lt;div class=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1 id="一、clear-both"><a href="#一、clear-both" class="headerlink" title="一、clear:both"></a>一、clear:both</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .box &#123; border: 1px black solid;&#125;	</span><br><span class="line">	.div1 &#123;width:100px; height: 100px; float: left; background: red;&#125;</span><br><span class="line">	.div2 &#123;width:100px; height: 100px; float: left; background: blue;&#125;	</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">   &lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">   &lt;div class=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">   &lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>在浮动元素后使用一个空元素如<code>&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</code>，并在CSS中赋予.clear{clear:both;}属性即可清理浮动。亦可使用<code>&lt;br class=&quot;clear&quot; /&gt;</code>或<code>&lt;hr class=&quot;clear&quot; /&gt;</code>来进行清理<br>优点：简单，代码少，浏览器兼容性好。<br>缺点：需要添加大量无语义的html元素，代码不够优雅，后期不容易维护。</p>
<h1 id="二、overflow-hidden"><a href="#二、overflow-hidden" class="headerlink" title="二、overflow:hidden"></a>二、overflow:hidden</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	.box &#123; border: 1px black solid; overflow: hidden; zoom:1;/*兼容ie6*/&#125;	</span><br><span class="line">	.div1 &#123;width:100px; height: 100px; float: left; background: red;&#125;</span><br><span class="line">	.div2 &#123;width:100px; height: 100px; float: left; background: blue;&#125;		</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">	&lt;div class=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">	&lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>给浮动元素的容器添加overflow:hidden;或overflow:auto;可以清除浮动，另外在 IE6 中还需要触发 hasLayout ，例如为父元素设置容器宽高或设置 zoom:1。<br>在添加overflow属性后，浮动元素又回到了容器层，把容器高度撑起，达到了清理浮动的效果。</p>
<h1 id="三、在伪元素中添加clear-both"><a href="#三、在伪元素中添加clear-both" class="headerlink" title="三、在伪元素中添加clear:both;"></a>三、在伪元素中添加clear:both;</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	.box &#123; border: 1px black solid; zoom:1;&#125;/* zoom 兼容ie6*/</span><br><span class="line">	.box:before,.box:after&#123;content:&quot;&quot;;display: block;&#125; /*让伪元素成为块级元素  */</span><br><span class="line">	.box:after &#123;clear:both;&#125; /*添加清除浮动*/</span><br><span class="line">	.div1 &#123;width:100px; height: 100px; float: left; background: red;&#125;</span><br><span class="line">	.div2 &#123;width:100px; height: 100px; float: left; background: blue;&#125;		</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;</span><br><span class="line">	&lt;div class=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://7zf001.github.io/2016/06/05/createjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeff Tam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff Tam">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/05/createjs/" itemprop="url">createjs之小黄鸡鼠标移动效果</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-05T01:40:05+08:00">
                2016-06-05
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/05/createjs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/06/05/createjs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.qdfuns.com/notes/20144/d2a91227e5742e5e68a519bfff796710.html" target="_blank" rel="noopener">createjs之小黄鸡鼠标移动效果</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/default_avatar.jpg"
               alt="Jeff Tam" />
          <p class="site-author-name" itemprop="name">Jeff Tam</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/7zf001" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cnblogs.com/ChivanTam/" target="_blank" title="博客园">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      博客园
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jeff Tam</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://7zf.disqus.com/count.js" async></script>
    

    

  




	





  








  





  

  

  

  

  

  

</body>
</html>
